{"componentChunkName":"component---src-templates-blog-post-js","path":"/2021-03-20-declarative-ui/","result":{"data":{"markdownRemark":{"id":"5dd03e95-f41a-53ba-be6b-69e48c1e9391","excerpt":"Declarative programming makes your code more concise, easier to read and reason about and reduces side effects. JavaScript has function scope, this means that…","html":"<blockquote>\n<p><strong>Declarative programming</strong> makes your code more concise, easier to read and reason about and reduces side effects.</p>\n</blockquote>\n<p>JavaScript has function scope, this means that any variable you declare inside a function is not accessible outside this function:</p>\n<p>Procedural and object-oriented are forms of <strong>imperative programming</strong>, which implements algorithms in explicit steps. React embraces functional programming which is a form of declarative programming.</p>\n<p>You describe <em>what</em> the program must accomplish for solving a problem, rather than describing <em>how</em> to accomplish.</p>\n<p>Practical tips for writing declarative code:</p>\n<ul>\n<li>Avoid loops, use <a href=\"https://javascript.info/array-methods\">array methods</a> instead</li>\n<li>Avoid variables, try to compose functions instead</li>\n<li>Avoid mutating state, create new instances instead</li>\n<li>Avoid side effects, ensure your functions are pure</li>\n<li>Work with the state, don’t manipulate DOM directly</li>\n</ul>\n<p>Programming declarative UI is difficult. It requires to abstract DOM updates, because touching the DOM is a side-effect.</p>\n<p>React is a declarative way of writing UIs. It gives you all the tools to write your markup in plain JavaScript functions. You care only about the application state and how this changes when certain events occur. Then it updates the DOM for you in an easy and predictable way.</p>\n<hr>\n<h2>Introduction</h2>\n<p>When you start your programming studies the first thing they teach you is variables, logical expressions and loops. Then you begin with procedural and then object-oriented programming. In other words you learn how to imperatively write code.</p>\n<p>This is not necessarily a bad thing. You must get familiar with how computers understand our world. In fact declarative approaches have some sort of imperative abstraction layer underneath.</p>\n<p>Once you start building commercial application though the things get more complex. Simplicity is the king. It is essential for every developer in a team to follow the code and to reason about. Our goal is to leave these machine instructions behind as much as we can and focus on writing code more perceivable by humans.</p>\n<p>In this article I will explain what is declarative programming and how it applies in web applications. We will see some real-life examples to help you recognize the difference with imperative.</p>\n<p>Learning how to write declarative code completely changed my mind about programming. I hope the techniques in this article will help you as much as they helped me.</p>\n<p>Excited? So grab a cup of ☕ coffee and come back. I will be waiting.</p>\n<h2>Humans think declaratively</h2>\n<p>In the beginning of this chapter I gave you the following instruction:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&gt; Grab a cup of coffee and come back</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>This is a declarative approach.</p>\n<p>The imperative approach would be something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&gt; Go to the kitchen\n&gt; Turn on the coffee machine\n&gt; Create an instance of a cup\n&gt; Put the cup under the coffee machine\n&gt; Press the Espresso button\n&gt; Wait for the process to finish\n&gt; Turn off the machine\n&gt; Take the cup of coffee\n&gt; Come back to this screen</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>We can put this algorithm to a <code class=\"language-text\">makeCoffee()</code> function or create a fancy <code class=\"language-text\">Coffee.makeCoffee()</code> method, but the result will be the same. My life would be much easier if I just tell you <em>what</em> to do instead of instructing you the steps above.</p>\n<p>Now let’s have a look on how this translates to coding.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1900px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c8a091633ae71642e2be1fdff05b4b7c/8b619/laptop.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 80%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFAf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAZ+rOjhOD//EABcQAQEBAQAAAAAAAAAAAAAAAAIDAQD/2gAIAQEAAQUCVNSw8Y6j0bEJ3bX/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAeEAACAgEFAQAAAAAAAAAAAAABEQACYRAiMUGBkf/aAAgBAQAGPwJ2+RniOwr6NN1WOsRsjAn/xAAcEAACAgMBAQAAAAAAAAAAAAAAARExIUFhUZH/2gAIAQEAAT8hU0YVeBkbWV0WOBckTJQp+g6xumUf/9oADAMBAAIAAwAAABBgz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB4QAQACAgEFAAAAAAAAAAAAAAEAETFhIUFxkcHR/9oACAEBAAE/EChPEGBre4ghQAVSfkt1EoWdAaNRSthDjqkbdF5F8ZhwYyID33n/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Coding in laptop\"\n        title=\"Coding in laptop\"\n        src=\"/static/c8a091633ae71642e2be1fdff05b4b7c/4e564/laptop.jpg\"\n        srcset=\"/static/c8a091633ae71642e2be1fdff05b4b7c/55feb/laptop.jpg 475w,\n/static/c8a091633ae71642e2be1fdff05b4b7c/d0cbf/laptop.jpg 950w,\n/static/c8a091633ae71642e2be1fdff05b4b7c/4e564/laptop.jpg 1900w,\n/static/c8a091633ae71642e2be1fdff05b4b7c/d3e61/laptop.jpg 2850w,\n/static/c8a091633ae71642e2be1fdff05b4b7c/a4f52/laptop.jpg 3800w,\n/static/c8a091633ae71642e2be1fdff05b4b7c/8b619/laptop.jpg 5000w\"\n        sizes=\"(max-width: 1900px) 100vw, 1900px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>A declarative code example</h2>\n<p>We have the following array of months:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> months <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'January'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'February'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'March'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Let’s imagine that we have to create a calendar similar to the one we find in iOS:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1900px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/230c4bd059b99da242fadea841545034/067bb/iOS-Calendar-iPad-dark-mode.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.94736842105263%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeClDI//xAAWEAEBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQEAAQUCVcf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAACAgMAAAAAAAAAAAAAAAAAETFRASFh/9oACAEBAAE/IX0ax7K2QZk//9oADAMBAAIAAwAAABDwz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESExQVFxkbH/2gAIAQEAAT8Qu0qvxFClb6iLh1B0+IiMvPuZbXP/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DevTools Profiler\"\n        title=\"DevTools Profiler\"\n        src=\"/static/230c4bd059b99da242fadea841545034/4e564/iOS-Calendar-iPad-dark-mode.jpg\"\n        srcset=\"/static/230c4bd059b99da242fadea841545034/55feb/iOS-Calendar-iPad-dark-mode.jpg 475w,\n/static/230c4bd059b99da242fadea841545034/d0cbf/iOS-Calendar-iPad-dark-mode.jpg 950w,\n/static/230c4bd059b99da242fadea841545034/4e564/iOS-Calendar-iPad-dark-mode.jpg 1900w,\n/static/230c4bd059b99da242fadea841545034/067bb/iOS-Calendar-iPad-dark-mode.jpg 2732w\"\n        sizes=\"(max-width: 1900px) 100vw, 1900px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Our first step is to modify our array to have only the first three letters of the month name.</p>\n<p>Here’s the comparison between the two approaches:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">// Imperative code</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getMonths</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">months</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> shortMonths <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> months<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    shortMonths<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>months<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> shortMonths\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Declarative code</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getMonths</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">months</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> months<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">month</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> month<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>In the second approach we leverage the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\"><code class=\"language-text\">map()</code></a> array method and thus we avoid looping over the array items.</p>\n<p>We avoid the unnecessary variable declaration, which means less code to work and this makes the overall approach easier to read.</p>\n<p>We avoid touching the DOM, which means our function has no <a href=\"https://en.wikipedia.org/wiki/Side_effect_(computer_science)\">side-effects</a>. It is also <a href=\"https://en.wikipedia.org/wiki/Pure_function\">pure</a>, with the same input it will always return the same output.</p>\n<p>Finally, we avoid using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push\"><code class=\"language-text\">array.push()</code></a> method which mutates our array.</p>\n<p>So many wins in such a simple task right? Imagine how easier our programs would be once we start applying these simple practices as much as we can.</p>\n<p>Now let’s see how this affects the UI.</p>\n<h2>Declarative UIs</h2>\n<p>HTML is <a href=\"https://www.youtube.com/watch?v=4A2mWqLUpzw\">declarative</a> by design. Consider the following markup:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>months<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">></span></span>01<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">></span></span>02<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">></span></span>03<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n  ...\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>You don’t need to explicitly describe step by step how the browser will be render this list on the screen.</p>\n<p>CSS works similarly, the style of the class <code class=\"language-text\">.months</code> will be applied automatically to all the matching DOM elements which have this class.</p>\n<p>The problem starts when you add interactivity.</p>\n<p><img src=\"/001fd08e3ceb051942b6ea58ae8c73aa/airbnb-calendar.gif\" alt=\"Airbnb calendar\">\n<em>The Airbnb calendar allows you to select a date period</em></p>\n<p>Consider this Airbnb calendar. Two things happen when you click on a day. At first we indicate the selected days with a black circle. Also the check in/out field gets updated with the new date range.</p>\n<p>Below is an example of this in modern JavaScript. For the sake of simplicity we use the class <code class=\"language-text\">.selected</code> to indicate one selected day at a time.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Calendar</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">domId</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">renderCalendar</span><span class=\"token punctuation\">(</span>domId<span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListeners</span><span class=\"token punctuation\">(</span>domId<span class=\"token punctuation\">)</span></span>  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">handleCalendarClick</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">selectedDay</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateView</span><span class=\"token punctuation\">(</span>selectedDay<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateInput</span><span class=\"token punctuation\">(</span>selectedDay<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">addEventListeners</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">domId</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    document\n      <span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>domId<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'li button'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">button</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> selectedDay <span class=\"token operator\">=</span> button<span class=\"token punctuation\">.</span>dataset<span class=\"token punctuation\">.</span>day\n        button<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">handleCalendarClick</span><span class=\"token punctuation\">(</span>selectedDay<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">updateView</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">selectedDay</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> selector <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">button[data-day=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>selectedDay<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"]</span><span class=\"token template-punctuation string\">`</span></span>\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">toggle</span><span class=\"token punctuation\">(</span><span class=\"token string\">'selected'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">updateInput</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">selectedDay</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'selectedDate'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> selectedDay\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">renderCalendar</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">domId</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>domId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"></span>\n<span class=\"token string\">\t\t\t&lt;input id=\"selectedDate\" /></span>\n<span class=\"token string\">\t\t\t\t&lt;ul></span>\n<span class=\"token string\">\t\t\t\t\t&lt;li></span>\n<span class=\"token string\">\t\t\t\t\t\t&lt;button data-day=\"01\">01&lt;/button></span>\n<span class=\"token string\">\t\t\t\t\t&lt;/li></span>\n<span class=\"token string\">\t\t\t\t\t&lt;li></span>\n<span class=\"token string\">\t\t\t\t\t\t&lt;button data-day=\"02\">02&lt;/button></span>\n<span class=\"token string\">\t\t\t\t\t&lt;/li></span>\n<span class=\"token string\">\t\t\t\t\t...</span>\n<span class=\"token string\">\t\t\t\t&lt;/ul></span>\n<span class=\"token string\">\t\t\t</span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><em>Try this example by yourself in <a href=\"https://jsfiddle.net/vd6gqhco/90/\">JSFiddle</a>.</em></p>\n<p>As you can see this approach is imperative:</p>\n<ul>\n<li>A big part of the <code class=\"language-text\">Calendar</code> class explicitly modifies DOM elements.</li>\n<li>We depend on the <code class=\"language-text\">data-day</code> attribute in order to get the selected button</li>\n<li>We no longer give the browser <em>what</em> to render, we instructively tell the browser <em>how</em> to modify the DOM.</li>\n</ul>\n<p>What if we could write our application like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SearchFilters</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DateRangeInput</span></span> <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>dateRange<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Calendar</span></span> <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>dateRange<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>setDateRange<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">SearchFields</span></span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Here’s how it works:</p>\n<ul>\n<li><code class=\"language-text\">&lt;Calendar&gt;</code> displays a calendar and uses <code class=\"language-text\">dateRange</code> to mark the selected days. It also allows the user to modify their selection. This happens by calling the <code class=\"language-text\">onChange()</code> function with the updated <code class=\"language-text\">dateRange</code> value.</li>\n<li><code class=\"language-text\">&lt;DateRangeInput&gt;</code> is a special kind of input that displays the selected date range. Similar to the calendar component it can also modify the selection as the user types.</li>\n<li><code class=\"language-text\">&lt;SearchFilters&gt;</code> is the container div which applies the layout.</li>\n</ul>\n<p>Modern UI libraries let you do exactly</p>\n<h2>React</h2>\n<p>React went popular because it lets you work with the state of your UI and it abstracts all DOM updates in a fast and predictable way. In fact the development experience is so good that people like to write CSS in JS as well.</p>\n<p>Think of it as a simple function:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>You are responsible to describe how your UI is being rendered to the DOM by a given <code class=\"language-text\">state</code> input. This object contains properties or methods that let your UI function inform you about certain events, for example a mouse click.</p>\n<p>For every event that occurs we update the state and this forces the application to render again:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> state <span class=\"token parameter\">update</span> <span class=\"token operator\">=></span> render</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>This unidirectional data flow help you build incredibly simple applications that are easy to test and maintain.</p>\n<h2>Last words</h2>\n<p>Your aim as a React developer is to write declarative code as much as you can. It’s like learning how to drive a supercar.</p>\n<p>But how we can declaratively change the DOM and maintain good performance? What did you say? What is the DOM? Ok this will take another coffee.</p>\n<p><em>In the next post we will continue our journey, by learning what is DOM and how it’s being managed by React.</em></p>\n<p><em>This article is part of the series “TLTR; React”. I try to explain the core functionality of the React ecosystem in an easy-to-follow way.</em></p>\n<p><em>You can <a href=\"https://medium.com/tltr-react\">follow my publication on Medium</a>. See you in the next post.</em></p>","frontmatter":{"title":"TLTR; Declarative UI","date":"March 20, 2021","description":"This is a custom description for SEO and Open Graph purposes, rather than the default generated excerpt. Simply add a description field to the frontmatter.","cover":{"publicURL":"/static/17d51c3fae966765e23926fd1447c8de/cover.jpg","childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='400'%20height='235'%20viewBox='0%200%20400%20235'%20preserveAspectRatio='none'%3e%3cpath%20d='M184%2063c-15%204-25%2011-35%2024-17%2021-14%2057%207%2078%2030%2031%2081%2023%20100-16%204-8%208-19%207-21l2-1c3%200%205-2%203-3v-1l-1-3-2-6-2-3c-1%201-1%201-1-1%201-3%200-8-1-6h-1c0-3-7-16-12-21a66%2066%200%2000-64-20m8%204a60%2060%200%2000-35%2019l4-2c3-3%204-3%204-2l1-1%202-1%201-1h1l2-1c-1-1%200-1%202-1l5-1h34l3%202%2012%205c9%208%2017%2019%2017%2027l1%202%201%201v13c2%202%201%205-1%205v1c2%201-3%2019-6%2019l-1%201-7%208-2%201c-3%205-17%2010-28%2010-7%201-18-1-20-3h-3l-1-1v-1l-1%202-1%201v-1c0-2-2-4-6-4-3%201-9-5-9-7l-1-1c0%201-4-3-5-6h-2c0%203-3-2-2-6%200-1%200-2-1-1l-1%202c-2%201%203%2010%2011%2017%2029%2029%2079%2018%2094-21%203-8%204-31%201-37a54%2054%200%2000-11-18%2056%2056%200%2000-52-19'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":1.7025089605734767,"src":"/static/17d51c3fae966765e23926fd1447c8de/7e3e6/cover.jpg","srcSet":"/static/17d51c3fae966765e23926fd1447c8de/23edd/cover.jpg 475w,\n/static/17d51c3fae966765e23926fd1447c8de/67316/cover.jpg 950w,\n/static/17d51c3fae966765e23926fd1447c8de/7e3e6/cover.jpg 1900w,\n/static/17d51c3fae966765e23926fd1447c8de/4daf6/cover.jpg 2850w,\n/static/17d51c3fae966765e23926fd1447c8de/ac719/cover.jpg 3800w,\n/static/17d51c3fae966765e23926fd1447c8de/d2452/cover.jpg 4000w","sizes":"(max-width: 1900px) 100vw, 1900px"}}}}},"previous":{"fields":{"slug":"/2021-02-14-hello-world-again/"},"frontmatter":{"title":"Hello World, Again"}},"next":{"fields":{"slug":"/2021-03-21-why-I-became-a-software-engineer/"},"frontmatter":{"title":"Why I Became A Software Engineer"}}},"pageContext":{"id":"5dd03e95-f41a-53ba-be6b-69e48c1e9391","previousPostId":"106c99d3-bcfd-52b1-a637-9482c2a55f42","nextPostId":"16aac4b9-c315-5638-9340-8e30e183e69c"}},"staticQueryHashes":["2158823057","2569554932","3275011449"]}